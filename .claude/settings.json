{
  "enabledPlugins": {
    "ralph-wiggum@claude-plugins-official": true
  },
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "if [ -n \"$GHOST_ENGAGEMENT\" ] && [ -f \"$GHOST_ENGAGEMENT/runlog.jsonl\" ]; then echo \"{\\\"timestamp\\\":\\\"$(date -Iseconds)\\\",\\\"event\\\":\\\"tool_bash\\\",\\\"command\\\":\\\"$(echo \"$CLAUDE_TOOL_INPUT\" | jq -r '.command' 2>/dev/null | head -c 200 | sed 's/\"/\\\\\"/g')\\\"}\" >> \"$GHOST_ENGAGEMENT/runlog.jsonl\"; fi"
          }
        ]
      },
      {
        "matcher": "Read",
        "hooks": [
          {
            "type": "command",
            "command": "if [ -n \"$GHOST_ENGAGEMENT\" ] && [ -f \"$GHOST_ENGAGEMENT/runlog.jsonl\" ]; then echo \"{\\\"timestamp\\\":\\\"$(date -Iseconds)\\\",\\\"event\\\":\\\"tool_read\\\",\\\"file\\\":\\\"$(echo \"$CLAUDE_TOOL_INPUT\" | jq -r '.file_path' 2>/dev/null | sed 's/\"/\\\\\"/g')\\\"}\" >> \"$GHOST_ENGAGEMENT/runlog.jsonl\"; fi"
          }
        ]
      },
      {
        "matcher": "Write",
        "hooks": [
          {
            "type": "command",
            "command": "if [ -n \"$GHOST_ENGAGEMENT\" ] && [ -f \"$GHOST_ENGAGEMENT/runlog.jsonl\" ]; then echo \"{\\\"timestamp\\\":\\\"$(date -Iseconds)\\\",\\\"event\\\":\\\"tool_write\\\",\\\"file\\\":\\\"$(echo \"$CLAUDE_TOOL_INPUT\" | jq -r '.file_path' 2>/dev/null | sed 's/\"/\\\\\"/g')\\\"}\" >> \"$GHOST_ENGAGEMENT/runlog.jsonl\"; fi"
          }
        ]
      },
      {
        "matcher": "Edit",
        "hooks": [
          {
            "type": "command",
            "command": "if [ -n \"$GHOST_ENGAGEMENT\" ] && [ -f \"$GHOST_ENGAGEMENT/runlog.jsonl\" ]; then echo \"{\\\"timestamp\\\":\\\"$(date -Iseconds)\\\",\\\"event\\\":\\\"tool_edit\\\",\\\"file\\\":\\\"$(echo \"$CLAUDE_TOOL_INPUT\" | jq -r '.file_path' 2>/dev/null | sed 's/\"/\\\\\"/g')\\\"}\" >> \"$GHOST_ENGAGEMENT/runlog.jsonl\"; fi"
          }
        ]
      },
      {
        "matcher": "Task",
        "hooks": [
          {
            "type": "command",
            "command": "if [ -n \"$GHOST_ENGAGEMENT\" ] && [ -f \"$GHOST_ENGAGEMENT/runlog.jsonl\" ]; then echo \"{\\\"timestamp\\\":\\\"$(date -Iseconds)\\\",\\\"event\\\":\\\"agent_spawn\\\",\\\"agent\\\":\\\"$(echo \"$CLAUDE_TOOL_INPUT\" | jq -r '.subagent_type' 2>/dev/null)\\\",\\\"description\\\":\\\"$(echo \"$CLAUDE_TOOL_INPUT\" | jq -r '.description' 2>/dev/null | sed 's/\"/\\\\\"/g')\\\"}\" >> \"$GHOST_ENGAGEMENT/runlog.jsonl\"; fi"
          }
        ]
      }
    ]
  },
  "ghost": {
    "parallel_mode": {
      "enabled": true,
      "strategy": "smart",
      "max_concurrent_hunters": 5,
      "auto_dispatch": true,
      "approval_required_phases": ["exploitation"]
    },
    "state_dir": "/tmp/ghost",
    "default_engagement_dir": "/tmp/ghost/active",
    "triggers": {
      "web_ports": [80, 443, 8080, 8443, 3000, 5000],
      "smb_ports": [445, 139],
      "ssh_ports": [22],
      "rdp_ports": [3389],
      "api_patterns": ["/api/", "/graphql", "/swagger", "/openapi"],
      "llm_patterns": ["/chat", "/completion", "/v1/", "ai.", "llm."]
    },
    "phase_order": [
      "init",
      "recon",
      "enumeration",
      "vulnerability",
      "exploitation_pending",
      "exploitation",
      "post_exploitation",
      "reporting",
      "complete"
    ]
  },
  "env": {
    "GHOST_SCRIPTS": "~/.claude/scripts"
  },
  "skills": {
    "ghost": ".claude/skills/ghost.md"
  }
}
